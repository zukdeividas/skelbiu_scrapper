(this.webpackJsonpscraper_ui=this.webpackJsonpscraper_ui||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(0),r=n.n(i),c=n(13),s=n.n(c),o=(n(158),n(68)),l=n(17),j=(n(159),n(8)),d=n(117),u=n(22),b=n(3),h=n(69),O=n(19),p=n(272),x=n(249),m=n(250),g=n(197),f=n(247),w=n(35),v=n(251),_=n(48),S=n(121),k=n.n(S),N=n(123),C=n.n(N),y=n(122),T=n.n(y),P=n(198),B=n(199),L=n(253),R=n(252),E=n(254),F=200,q=Object(h.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:F,width:"calc(100% - ".concat(F,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:10},hide:{display:"none"},drawer:{width:F,flexShrink:0,whiteSpace:"nowrap"},iconWidth:{minWidth:40},drawerOpen:{width:F,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function z(e){var t,n,i=q(),c=Object(O.a)(),s=r.a.useState(!1),l=Object(j.a)(s,2),d=l[0],h=l[1];return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(f.a,{}),Object(a.jsx)(x.a,{position:"fixed",className:Object(b.a)(i.appBar,Object(u.a)({},i.appBarShift,d)),children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(_.a,{color:"inherit","aria-label":"open drawer",onClick:function(){h(!0)},edge:"start",className:Object(b.a)(i.menuButton,Object(u.a)({},i.hide,d)),children:Object(a.jsx)(k.a,{})}),Object(a.jsx)(w.a,{variant:"h6",noWrap:!0,children:"House posts scraper"})]})}),Object(a.jsxs)(p.a,{variant:"permanent",className:Object(b.a)(i.drawer,(t={},Object(u.a)(t,i.drawerOpen,d),Object(u.a)(t,i.drawerClose,!d),t)),classes:{paper:Object(b.a)((n={},Object(u.a)(n,i.drawerOpen,d),Object(u.a)(n,i.drawerClose,!d),n))},children:[Object(a.jsx)("div",{className:i.toolbar,children:Object(a.jsx)(_.a,{onClick:function(){h(!1)},children:"rtl"===c.direction?Object(a.jsx)(T.a,{}):Object(a.jsx)(C.a,{})})}),Object(a.jsx)(v.a,{}),Object(a.jsxs)(g.a,{children:[Object(a.jsxs)(P.a,{component:o.b,to:"/",button:!0,children:[Object(a.jsx)(B.a,{className:i.iconWidth,children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(L.a,{primary:"Posts preview"})]},0),Object(a.jsxs)(P.a,{component:o.b,to:"/list-table",button:!0,children:[Object(a.jsx)(B.a,{className:i.iconWidth,children:Object(a.jsx)(E.a,{})}),Object(a.jsx)(L.a,{primary:"Posts table"})]},1)]})]}),Object(a.jsx)("main",{className:i.content,children:Object(a.jsx)("div",{className:i.toolbar,children:e.children})})]})}var D=n(42),G=n.n(D),H=n(264),I=n(265),M=n(266),W=n(267),U=n(268),A=n(125),J=n.n(A),X=n(78),Y=(n(115),n(255)),K=n(256),Q=n(257),V=n(258),Z=n(259),$=n(260),ee=n(56),te=n(85),ne=n.n(te),ae=n(261),ie=n(262),re=n(263),ce=Object(h.a)((function(){return{root:{width:250}}}));function se(e){var t=ce(),n=r.a.useState(0),i=Object(j.a)(n,2),c=i[0],s=i[1],o=r.a.useState(!1),l=Object(j.a)(o,2),d=l[0],u=l[1],b=r.a.useState(!1),h=Object(j.a)(b,2),O=h[0],p=h[1],x=e.data,m=function(){p(!1)},g=x.is_new?Object(a.jsx)(_.a,{onClick:e.seen,children:Object(a.jsx)(Y.a,{color:"primary"})}):Object(a.jsx)(_.a,{children:Object(a.jsx)(K.a,{})});return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)(Q.a,{onClose:m,open:O,children:[Object(a.jsx)(V.a,{onClose:m,children:"Description"}),Object(a.jsx)(Z.a,{dividers:!0,children:Object(a.jsx)(w.a,{gutterBottom:!0,children:x.description})}),Object(a.jsx)($.a,{children:Object(a.jsx)(ee.a,{autoFocus:!0,onClick:m,color:"primary",children:"Close"})})]}),d&&Object(a.jsx)(X.a,{mainSrc:x.image_urls[c],nextSrc:x.image_urls[(c+1)%x.image_urls.length],prevSrc:x.image_urls[(c+x.image_urls.length-1)%x.image_urls.length],onCloseRequest:function(){return u(!1)},onMovePrevRequest:function(){return s((c+x.image_urls.length-1)%x.image_urls.length)},onMoveNextRequest:function(){return s((c+1)%x.image_urls.length)}}),e.isDataTable?Object(a.jsx)(_.a,{onClick:function(){u(!0)},children:Object(a.jsx)(ae.a,{color:"primary"})}):"",Object(a.jsx)(_.a,{onClick:e.liked,children:Object(a.jsx)(ne.a,{color:x.is_liked?"primary":"action"})}),g,Object(a.jsx)(_.a,{onClick:function(){return window.open(x.original_url,"_blank")},children:Object(a.jsx)(ie.a,{color:"primary"})}),Object(a.jsx)(_.a,{onClick:function(){p(!0)},children:Object(a.jsx)(re.a,{color:"primary"})})]})}var oe=Object(h.a)((function(e){return{root:{width:250},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},headerTitle:{fontSize:13},contentText:{fontSize:13},cardContent:{textAlign:"left"},description:{fontSize:13}}}));function le(e){var t=oe(),n=r.a.useState(0),i=Object(j.a)(n,2),c=i[0],s=i[1],o=r.a.useState(!1),l=Object(j.a)(o,2),d=l[0],u=l[1],b=r.a.useState(!1),h=Object(j.a)(b,2),O=h[0],p=h[1],x=e.data,m=function(){p(!1)};x.is_new?(_.a,e.seen,Y.a):(_.a,K.a);return Object(a.jsxs)(H.a,{className:t.root,children:[Object(a.jsxs)(Q.a,{onClose:m,open:O,children:[Object(a.jsx)(V.a,{onClose:m,children:"Description"}),Object(a.jsx)(Z.a,{dividers:!0,children:Object(a.jsx)(w.a,{gutterBottom:!0,children:x.description})}),Object(a.jsx)($.a,{children:Object(a.jsx)(ee.a,{autoFocus:!0,onClick:m,color:"primary",children:"Close"})})]}),d&&Object(a.jsx)(X.a,{mainSrc:x.image_urls[c],nextSrc:x.image_urls[(c+1)%x.image_urls.length],prevSrc:x.image_urls[(c+x.image_urls.length-1)%x.image_urls.length],onCloseRequest:function(){return u(!1)},onMovePrevRequest:function(){return s((c+x.image_urls.length-1)%x.image_urls.length)},onMoveNextRequest:function(){return s((c+1)%x.image_urls.length)}}),Object(a.jsx)(I.a,{action:Object(a.jsx)(_.a,{"aria-label":"settings",children:Object(a.jsx)(J.a,{})}),subheader:Object(a.jsx)(w.a,{className:t.headerTitle,children:x.town+" "+x.street})}),Object(a.jsx)(M.a,{className:t.media,image:x.image_urls[0],onClick:function(){u(!0)}}),Object(a.jsxs)(W.a,{className:t.cardContent,children:[Object(a.jsxs)(w.a,{className:t.contentText,children:[Object(a.jsx)("b",{children:"Price:"})," ",x.price," EUR"]}),Object(a.jsxs)(w.a,{className:t.contentText,children:[Object(a.jsx)("b",{children:"Rooms:"})," ",x.room_count]}),Object(a.jsxs)(w.a,{className:t.contentText,children:[Object(a.jsx)("b",{children:"Year:"})," ",x.year]}),Object(a.jsxs)(w.a,{className:t.contentText,children:[Object(a.jsx)("b",{children:"Heating:"})," ",x.heating]}),Object(a.jsxs)(w.a,{className:t.contentText,children:[Object(a.jsx)("b",{children:"House area:"})," ",x.house_area," m",Object(a.jsx)("sup",{children:"2"})]}),Object(a.jsxs)(w.a,{className:t.contentText,children:[Object(a.jsx)("b",{children:"Land area:"})," ",x.land_area," a"]})]}),Object(a.jsx)(U.a,{disableSpacing:!0,children:Object(a.jsx)(se,{data:x})})]})}var je=n(269),de=n(200),ue=n(134),be=Object(h.a)((function(e){return{root:{paddingTop:50,flexGrow:1}}}));function he(){var e=Object(i.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(!1),s=Object(j.a)(c,2),o=s[0],l=s[1],d=Object(i.useState)(!1),u=Object(j.a)(d,2),b=u[0],h=u[1],O=be();Object(i.useEffect)((function(){p()}),[]),Object(i.useEffect)((function(){p()}),[b,o]);var p=function(){(function(){var e=new URLSearchParams([["is_liked",o],["is_new",b]]);return G.a.get("http://localhost:5000/api/posts",{params:e})})().then((function(e){r(e.data)}))},x=n?n.map((function(e){return Object(a.jsx)(je.a,{item:!0,children:Object(a.jsx)(le,{data:e,liked:function(){return t=e.id,void G.a.get("http://localhost:5000/api/posts/"+t+"/liked").then((function(){var e=n.map((function(e){return e.id===t&&(e.is_liked=!e.is_liked),e}));r(e)}));var t},seen:function(){return t=e.id,void G.a.get("http://localhost:5000/api/posts/"+t+"/seen").then((function(){var e=n.map((function(e){return e.id===t&&(e.is_new=!1),e}));r(e)}));var t}})},e.id)})):"Loading...";return Object(a.jsxs)("div",{className:O.root,children:[Object(a.jsx)(de.a,{value:"end",control:Object(a.jsx)(ue.a,{checked:o,onChange:function(e){l(e.target.checked)},name:"Liked",color:"primary"}),label:"Filter liked posts"}),Object(a.jsx)(de.a,{value:"end",control:Object(a.jsx)(ue.a,{checked:b,onChange:function(e){h(e.target.checked)},name:"New",color:"primary"}),label:"Filter new posts"}),Object(a.jsx)(je.a,{container:!0,spacing:2,justify:"center",children:x})]})}var Oe=n(126),pe=Object(h.a)((function(e){return{root:{paddingTop:50,flexGrow:1,width:"100%"},dataGrid:{marginBottom:50,width:"100%",boxShadow:"1px 4px 7px #9E9E9E"}}}));function xe(){var e=pe(),t=Object(i.useState)(),n=Object(j.a)(t,2),r=n[0],c=n[1],s=[{field:"price",headerName:"Price",width:150},{field:"house_area",headerName:"House area",width:150},{field:"land_area",headerName:"Land area",width:150},{field:"id",headerName:"Options",renderCell:function(e){return Object(a.jsx)(se,{data:e.row,liked:function(){return l(e.row.id)},seen:function(){return d(e.row.id)},isDataTable:!0})},width:300}];Object(i.useEffect)((function(){o()}),[]);var o=function(){(function(){var e=new URLSearchParams([["is_liked",0],["is_new",0]]);return G.a.get("http://localhost:5000/api/posts",{params:e})})().then((function(e){console.log(e.data),c(e.data)}))},l=function(e){G.a.get("http://localhost:5000/api/posts/"+e+"/liked").then((function(){var t=r.map((function(t){return t.id===e&&(t.is_liked=!t.is_liked),t}));c(t)}))},d=function(e){G.a.get("http://localhost:5000/api/posts/"+e+"/seen").then((function(){var t=r.map((function(t){return t.id===e&&(t.is_new=!1),t}));c(t)}))};return Object(a.jsx)("div",{className:e.root,children:r?Object(a.jsx)(Oe.a,{className:e.dataGrid,autoHeight:!0,rows:r,columns:s,pageSize:13,rowsPerPageOptions:[13,20,30],pagination:!0,disableMultipleSelection:!0}):"Loading..."})}var me=function(){return Object(a.jsx)(o.a,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(z,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:he}),Object(a.jsx)(l.a,{path:"/list-table",component:xe})]})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};s.a.render(Object(a.jsx)(me,{}),document.getElementById("root")),ge()}},[[193,1,2]]]);
//# sourceMappingURL=main.6b62669a.chunk.js.map